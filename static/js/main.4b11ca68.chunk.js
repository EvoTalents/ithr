(this.webpackJsonpithr=this.webpackJsonpithr||[]).push([[0],{10:function(e,t,a){e.exports=a(19)},15:function(e,t,a){},16:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(1),c=a.n(i),r=(a(15),a(16),a(9)),o=a(4),u=a(2),s=a(8),d=function(e){var t=e.candidates;return l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"\u0418\u043c\u044f"),l.a.createElement("th",null,"\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u043f\u043e\u0437\u0438\u0446\u0438\u044f"),l.a.createElement("th",null,"\u0416\u0435\u043b\u0430\u0435\u043c\u0430\u044f \u043f\u043e\u0437\u0438\u0446\u0438\u044f"),l.a.createElement("th",null,"\u0413\u043e\u0440\u043e\u0434"))),l.a.createElement("tbody",null,t.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",null,e.index),l.a.createElement("td",null,e.name),l.a.createElement("td",null,e.currentPosition),l.a.createElement("td",null,e.desiredPosition),l.a.createElement("td",null,l.a.createElement(v,{cities:e.cities})))}))))},m=[{value:"dnipro",label:"\u0414\u043d\u0435\u043f\u0440"},{value:"kyiv",label:"\u041a\u0438\u0435\u0432"},{value:"kharkiv",label:"\u0425\u0430\u0440\u044c\u043a\u043e\u0432"},{value:"lviv",label:"\u041b\u044c\u0432\u043e\u0432"},{value:"odessa",label:"\u041e\u0434\u0435\u0441\u0441\u0430"},{value:"remote",label:"Remote"},{value:"other",label:"Other"}],p=m.reduce((function(e,t){return Object(u.a)({},e,Object(o.a)({},t.value,t.label))}),{}),f=function(e,t){switch(t.type){case"setCandidates":return Object(u.a)({},e,{candidates:t.payload.candidates,totalCount:t.payload.totalCount});case"nextPage":return Object(u.a)({},e,{skip:Math.min(e.skip+e.limit,e.totalCount)});case"prevPage":return Object(u.a)({},e,{skip:Math.max(e.skip-e.limit,0)});case"filterCities":return Object(u.a)({},e,{filters:Object(u.a)({},e.filters,{cities:t.payload})});default:return e}},h={candidates:[],skip:0,limit:50,totalCount:0,filters:{cities:[],techStack:[]}},v=function(e){var t=e.cities;return l.a.createElement("div",null,t.map((function(e){return p[e]})).join(", "))},E=function(){var e=function(){var e=Object(n.useReducer)(f,h),t=Object(r.a)(e,2),a=t[0],l=a.candidates,i=a.filters,c=a.skip,o=a.limit,u=a.totalCount,s=t[1],d=i.cities;i.techStack;return Object(n.useEffect)((function(){var e=new URL("https://hr0153.wixsite.com/ithr/_functions-dev/candidates");c&&e.searchParams.append("skip",c.toString()),d&&d.length&&e.searchParams.append("cities",d.join(",")),fetch(e.href).then((function(e){return e.json()})).then((function(e){console.log(e),s({type:"setCandidates",payload:{candidates:e.items,totalCount:e.totalCount}})}))}),[c,d]),{candidates:l,skip:c,totalCount:u,limit:o,cities:i.cities,setCities:function(e){s({type:"filterCities",payload:e})},nextPage:function(){s({type:"nextPage"})},prevPage:function(){s({type:"prevPage"})}}}(),t=e.candidates,a=e.skip,i=e.limit,c=e.totalCount,o=e.cities,u=e.setCities,p=e.nextPage,v=e.prevPage;if(!t.length)return l.a.createElement("div",null,"Loading...");var E=a>0;console.log("skip",a),console.log("limit",i),console.log("totalCount",c);var b=a+i<c;return l.a.createElement("div",null,l.a.createElement(s.a,{options:m,isMulti:!0,value:m.filter((function(e){return o.includes(e.value)})),onChange:function(e){console.log("data",e),u((e||[]).map((function(e){return e.value})))}}),l.a.createElement(d,{candidates:t}),l.a.createElement("div",null,E?l.a.createElement("button",{onClick:v},"<"):null,b?l.a.createElement("button",{onClick:p},">"):null))};var b=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(E,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[10,1,2]]]);
//# sourceMappingURL=main.4b11ca68.chunk.js.map