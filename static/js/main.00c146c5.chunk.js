(this.webpackJsonpithr=this.webpackJsonpithr||[]).push([[0],{14:function(e,t,a){e.exports=a(22)},19:function(e,t,a){},22:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(3),r=a.n(i),c=(a(19),a(5)),s=a(13),u=a(2),o=a(1),m=function(e,t){if(!(t=t.replace(/^\?/,"")))return e;var a=Object(o.a)({},e,{filters:Object(o.a)({},e.filters)}),n=t.split("&").reduce((function(e,t){var a=t.split("="),n=Object(c.a)(a,2),l=n[0],i=n[1];return Object(o.a)({},e,Object(u.a)({},l,decodeURIComponent(i)))}),{});return Number(n.skip)&&(a.skip=Number(n.skip)),Number(n.limit)&&(a.limit=Number(n.limit)),n.techStack&&(a.filters.techStack=n.techStack.split(",")),n.cities&&(a.filters.cities=n.cities.split(",")),a},d={candidates:[],skip:0,limit:50,totalCount:0,filters:{cities:[],techStack:[]}},h=function(e,t){switch(t.type){case"setCandidates":return Object(o.a)({},e,{candidates:t.payload.candidates,totalCount:t.payload.totalCount});case"nextPage":return Object(o.a)({},e,{skip:Math.min(e.skip+e.limit,e.totalCount)});case"prevPage":return Object(o.a)({},e,{skip:Math.max(e.skip-e.limit,0)});case"filterCities":return Object(o.a)({},e,{skip:0,filters:Object(o.a)({},e.filters,{cities:t.payload})});case"filterTechStack":return Object(o.a)({},e,{skip:0,filters:Object(o.a)({},e.filters,{techStack:t.payload})});case"populateFromQS":return m(e,t.payload);default:return e}},p=function(e){var t=e._id,a=e.techStack,n=e.cities,l=e.summary,i=e.salary,r=e.cv,c=e.linkedIn,s=e.english,u=e.currentPosition,o=e.desiredPosition,m=e.contacts;return{id:t,name:e.name,summary:l,salary:i,linkedIn:c,currentPosition:u,desiredPosition:o,cities:"string"===typeof n?[n]:n||[],techStack:"string"===typeof a?[a]:a||[],contacts:m,cv:r,english:s,years:e.years}},v=function(){var e=Object(n.useRef)(Object(s.a)()).current,t=Object(n.useReducer)(h,m(d,new URL(window.location.href).search)),a=Object(c.a)(t,2),l=a[0],i=l.candidates,r=l.filters,u=l.skip,o=l.limit,v=l.totalCount,f=a[1],k=r.cities,b=r.techStack;return Object(n.useEffect)((function(){var t=e.listen((function(e,t){"POP"===t&&f({type:"populateFromQS",payload:e.search})}));return function(){return t()}})),Object(n.useEffect)((function(){e.push(function(e){var t=e.skip,a=e.limit,n=e.cities,l=e.techStack,i=new URL(window.location.href);return t?i.searchParams.set("skip",t.toString()):i.searchParams.delete("skip"),a&&50!==a?i.searchParams.set("limit",a.toString()):i.searchParams.delete("limit"),n&&n.length?i.searchParams.set("cities",n.join(",")):i.searchParams.delete("cities"),l&&l.length?i.searchParams.set("techStack",l.join(",")):i.searchParams.delete("techStack"),"".concat(i.pathname).concat(i.search)}({skip:u,limit:o,cities:k,techStack:b}))}),[u,o,k,b]),Object(n.useEffect)((function(){var e=!1;return function(e){var t=e.skip,a=void 0===t?0:t,n=e.limit,l=void 0===n?50:n,i=e.filters,r=(i=void 0===i?{cities:[],techStack:[]}:i).cities,c=void 0===r?[]:r,s=i.techStack,u=void 0===s?[]:s,o=new URL("https://hr0153.wixsite.com/ithr/_functions/candidates");return a&&o.searchParams.append("skip",a.toString()),l&&50!==l&&o.searchParams.append("limit",l.toString()),c&&c.length&&o.searchParams.append("cities",c.join(",")),u&&u.length&&o.searchParams.append("techStack",u.join(",")),fetch(o.href).then((function(e){if(!e.ok)throw Error("could not fetch candidates");return e})).then((function(e){return e.json()})).then((function(e){var t=e.items,a=e.limit,n=e.skip,l=e.totalCount;return{items:t.map(p),limit:a,totalCount:l,skip:n}}))}({skip:u,filters:{cities:k,techStack:b}}).then((function(t){e||f({type:"setCandidates",payload:{candidates:t.items,totalCount:t.totalCount}})})),function(){e=!0}}),[u,k,b]),{candidates:i,skip:u,totalCount:v,limit:o,cities:r.cities,techStack:r.techStack,setCities:function(e){f({type:"filterCities",payload:e})},setTechStack:function(e){f({type:"filterTechStack",payload:e})},nextPage:function(){f({type:"nextPage"})},prevPage:function(){f({type:"prevPage"})}}},f=n.createContext({candidates:[],skip:0,limit:50,totalCount:0,cities:[],techStack:[],setCities:function(){},setTechStack:function(){},nextPage:function(){},prevPage:function(){}}),k=function(){return Object(n.useContext)(f)},b=function(e){var t=e.children,a=v();return n.createElement(f.Provider,{value:a},a.candidates.length?t:n.createElement("div",null,"Loading..."))},g=[{value:"dnipro",label:"\u0414\u043d\u0435\u043f\u0440"},{value:"kyiv",label:"\u041a\u0438\u0435\u0432"},{value:"kharkiv",label:"\u0425\u0430\u0440\u044c\u043a\u043e\u0432"},{value:"lviv",label:"\u041b\u044c\u0432\u043e\u0432"},{value:"odessa",label:"\u041e\u0434\u0435\u0441\u0441\u0430"},{value:"remote",label:"Remote"},{value:"other",label:"Other"}],E=g.reduce((function(e,t){return Object(o.a)({},e,Object(u.a)({},t.value,t.label))}),{}),S=function(e){var t=e.cities;return l.a.createElement("div",null,t.map((function(e){return E[e]||e})).join(", "))},P=[{label:"Java",value:"java"},{label:"JavaScript",value:"javascript"},{label:"C#",value:"c#"},{label:"PHP",value:"php"},{label:"Python",value:"python"},{label:"C++",value:"c++"},{label:"TypeScript",value:"typescript"},{label:"Swift",value:"swift"},{label:"Ruby",value:"ruby"},{label:"Kotlin",value:"kotlin"},{label:"Scala",value:"scala"},{label:"Go",value:"go"},{label:"Business Analyst",value:"business-analyst"},{label:"Data Science",value:"data-science"},{label:"Design / UX",value:"design-ux"},{label:"GameDev / Unity / AS3",value:"gamedev-unity-as3"},{label:"Product Manager",value:"product-manager"},{label:"Project Manager",value:"project-manager"},{label:"QA Manual",value:"qa-manual"},{label:"QA Automation",value:"qa-automation"},{label:"SQL (DBA)",value:"sql-dba"},{label:"SysAdmin / DevOps",value:"sysadmin-devops"},{label:"Marketing",value:"marketing"},{label:"Recruiting / HR",value:"recruiting-hr"},{label:"Sales",value:"sales"},{label:"Support",value:"support"},{label:"Other",value:"other"},{label:"iOS",value:"ios"},{label:"Android",value:"android"},{label:"Management",value:"management"}],y=P.reduce((function(e,t){return Object(o.a)({},e,Object(u.a)({},t.value,t.label))}),{}),C=function(e){var t=e.techStack;return n.createElement("div",null,t.map((function(e){return y[e]||e})).join(", "))},j=function(){var e=k().candidates;return n.createElement("table",{className:"table"},n.createElement("thead",null,n.createElement("tr",null,n.createElement("th",null,"#"),n.createElement("th",null,"\u0418\u043c\u044f"),n.createElement("th",null,"\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u043f\u043e\u0437\u0438\u0446\u0438\u044f"),n.createElement("th",null,"\u0416\u0435\u043b\u0430\u0435\u043c\u0430\u044f \u043f\u043e\u0437\u0438\u0446\u0438\u044f"),n.createElement("th",null,"\u041e \u0441\u0435\u0431\u0435"),n.createElement("th",null,"English"),n.createElement("th",null,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"),n.createElement("th",null,"LinkedIn"),n.createElement("th",null,"\u0420\u0435\u0437\u044e\u043c\u0435"),n.createElement("th",null,"\u0417\u041f \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u044f"),n.createElement("th",null,"\u0422\u0435\u0445 \u0441\u0442\u0435\u043a"),n.createElement("th",null,"\u0413\u043e\u0440\u043e\u0434"))),n.createElement("tbody",null,e.map((function(e){return n.createElement("tr",{key:e.id},n.createElement("td",{title:e.id},e.id.slice(0,8)),n.createElement("td",null,e.name||n.createElement("i",null,"\u041f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443")),n.createElement("td",null,e.currentPosition),n.createElement("td",null,e.desiredPosition),n.createElement("td",null,e.summary),n.createElement("td",null,e.english),n.createElement("td",null,e.contacts),n.createElement("td",null,e.linkedIn?n.createElement("a",{href:e.linkedIn,target:"_blank",rel:"noopener noreferrer"},"linkedin"):null),n.createElement("td",null,e.cv?n.createElement("a",{href:e.cv,target:"_blank",rel:"noopener noreferrer"},"CV"):null),n.createElement("td",null,e.salary),n.createElement("td",null,n.createElement(C,{techStack:e.techStack})),n.createElement("td",null,n.createElement(S,{cities:e.cities})))}))))},O=a(12),w=function(e){var t=e.options,a=e.value,l=e.onChange,i=e.placeholder;return n.createElement(O.a,{options:t,isMulti:!0,placeholder:i,value:t.filter((function(e){return a.includes(e.value)})),onChange:function(e){console.log("data",e),l((e||[]).map((function(e){return e.value})))}})},_=function(e){var t=e.className,a=function(){var e=k();return{cities:e.cities,setCities:e.setCities}}(),l=a.cities,i=a.setCities;return n.createElement("div",{className:t},n.createElement(w,{options:g,value:l,onChange:i,placeholder:"\u0413\u043e\u0440\u043e\u0434"}))},x=a(6),N=a.n(x),F=function(e){var t=e.className,a=function(){var e=k();return{techStack:e.techStack,setTechStack:e.setTechStack}}(),l=a.techStack,i=a.setTechStack;return n.createElement("div",{className:t},n.createElement(w,{options:P,value:l,onChange:i,placeholder:"\u0421\u0442\u0435\u043a \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0439"}))},R=function(){return n.createElement("div",{className:N.a.Filters},n.createElement(_,{className:N.a.Filter}),n.createElement(F,{className:N.a.Filter}))},I=a(11),M=a.n(I),A=a(8),T=a.n(A),B=function(e){var t=e.children,a=e.onClick;return l.a.createElement("button",{onClick:a,className:M()("button",T.a.pageButton)},t)},U=function(){var e=function(){var e=k();return{nextPage:e.nextPage,prevPage:e.prevPage,skip:e.skip,limit:e.limit,totalCount:e.totalCount}}(),t=e.nextPage,a=e.prevPage,n=e.skip,i=n>0,r=n+e.limit<e.totalCount;return l.a.createElement("div",{className:T.a.Pagination},i?l.a.createElement(B,{onClick:a},"<"):null,r?l.a.createElement(B,{onClick:t},">"):null)},L=function(){return l.a.createElement(b,null,l.a.createElement(R,null),l.a.createElement(j,null),l.a.createElement(U,null))},D=function(){return l.a.createElement(L,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},6:function(e,t,a){e.exports={Filters:"Filters_Filters__C-dfK",Filter:"Filters_Filter__WlIu2"}},8:function(e,t,a){e.exports={Pagination:"Pagination_Pagination__13PUG",pageButton:"Pagination_pageButton__1HZI7"}}},[[14,1,2]]]);
//# sourceMappingURL=main.00c146c5.chunk.js.map